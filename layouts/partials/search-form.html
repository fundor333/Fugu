<form id="search" action='{{ with .GetPage "/search" }}{{.Permalink}}{{end}}' method="get">
  <label hidden for="search-input">Search site</label>
  <input type="text" id="search-input" name="query" placeholder="Type here to search">
  <input type="submit" value="search">
</form>

<script>
  window.store = {
      // You can specify your blog section only:
      {{ range where .Site.Pages "Section" "post"}}
      // For all pages in your site, use "range .Site.Pages"
      // You can use any unique identifier here
      "{{ .Permalink }}": {
          // You can customize your searchable fields using any .Page parameters
          "title": "{{ .Title  }}",
          "tags": [{{ range .Params.Tags }}"{{ . }}",{{ end }}],
          "content": {{ .Content | plainify }}, // Strip out HTML tags
          "url": "{{ .Permalink }}"
      },
      {{ end }}
  }
  </script>
  <!-- Include Lunr and code for your search function,
  which you'll write in the next section -->
  <script src="/js/lunr.min.js"></script>
  <script src="/js/search.js"></script>
